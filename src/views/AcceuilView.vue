<template>
  <AppLayout>
    <div class="landing-page-container">

      <section class="hero-section hero-strategic">
        <div class="hero-content">
          <h1>
            Sant√© au Mali : <br/>
            <span class="highlight-text">SanTeKo, un Syst√®me d'Urgence et de Soins Int√©gr√©.</span>
          </h1>
          <p class="tagline">
            Face aux d√©fis sanitaires majeurs (p√©nurie de professionnels, acc√®s in√©gal), SanTeKo d√©ploie un **Syst√®me d'Information Hospitalier (SIH) innovant**. Notre mission : digitaliser, s√©curiser et coordonner l'acc√®s aux soins de qualit√© pour tous les Maliens.
          </p>

          <div class="user-state-actions">
            <div v-if="isLoggedIn" class="logged-in-state">
              <img :src="profilePhoto" alt="Photo de profil" class="avatar" />
              <div class="user-info">
                <p class="welcome-message">Bienvenue, **{{ fullName }}** !</p>
                <button class="action-button secondary" @click="logout">D√©connexion</button>
              </div>
            </div>

            <div v-else>
              <router-link to="/login" class="action-button primary">
                Acc√®s au Syst√®me <i class="fas fa-sign-in-alt"></i>
              </router-link>
              <p class="login-prompt">Pour les professionnels et les patients enregistr√©s.</p>
            </div>
          </div>
        </div>

        <div class="hero-illustration">
            <img src="/santeko.png" alt="Logo Santeko - Plateforme de sant√© num√©rique" />
        </div>
      </section>

      <section class="roles-features-section">
        <h2 class="section-heading">üßë‚Äç‚öïÔ∏è Actions et Responsabilit√©s par R√¥le</h2>
        <p class="section-subheading">
            SanTeKo organise l'√©cosyst√®me de sant√©. Chaque acteur (Patient, Docteur, Infirmier, Admin) b√©n√©ficie d'un espace s√©curis√© et de permissions sp√©cifiques, optimis√©es pour son r√¥le dans la cha√Æne de soins.
        </p>

        <div class="roles-container">
            <div class="role-card patient-role">
                <h3 class="role-title"><i class="fas fa-user-injured"></i> R√¥le Patient</h3>
                <ul class="role-features-list">
                    <li><span class="feature-name">Mon Profil M√©dical :</span> Consultation et mise √† jour des donn√©es personnelles et de sant√© (allergies, groupe sanguin, etc.).</li>
                    <li><span class="feature-name">Gestion des Rendez-vous :</span> Prise de RDV simplifi√©e et consultation de l'historique des consultations.</li>
                    <li><span class="feature-name">Acc√®s √† l'Historique :</span> Consultation s√©curis√©e du Dossier M√©dical √âlectronique (DME) complet.</li>
                    <li><span class="feature-name">Alerte d'Urgence SOS :</span> D√©clenchement rapide et g√©olocalis√© pour une intervention imm√©diate.</li>
                </ul>
            </div>

            <div class="role-card doctor-role">
                <h3 class="role-title"><i class="fas fa-user-md"></i> R√¥le Docteur</h3>
                <ul class="role-features-list">
                    <li><span class="feature-name">Gestion de l'Agenda :</span> Ma√Ætrise de l'emploi du temps (consultation, confirmation ou rejet des RDV).</li>
                    <li><span class="feature-name">Acc√®s aux Dossiers :</span> Recherche rapide et acc√®s instantan√© aux Dossiers M√©dicaux √âlectroniques (DME).</li>
                    <li><span class="feature-name">Actes M√©dicaux :</span> Prescription d'ordonnances num√©riques et √©mission de rapports m√©dicaux pour enrichir le suivi.</li>
                </ul>
            </div>

            <div class="role-card nurse-role">
                <h3 class="role-title"><i class="fas fa-user-nurse"></i> R√¥le Infirmier</h3>
                <ul class="role-features-list">
                    <li><span class="feature-name">Collecte de Donn√©es :</span> Enregistrement et consultation de l'historique des **Signes Vitaux** (tension, pouls, temp√©rature).</li>
                    <li><span class="feature-name">Tra√ßabilit√© des Interventions :</span> Gestion des Rapports M√©dicaux pour la continuit√© des soins.</li>
                    <li><span class="feature-name">Coordination des Soins :</span> Consultation du Dossier Patient complet et des listes d'organisation du d√©partement.</li>
                </ul>
            </div>

            <div class="role-card admin-role">
                <h3 class="role-title"><i class="fas fa-shield-alt"></i> Pilotage et Supervision (Admin)</h3>
                <ul class="role-features-list">
                    <li><span class="feature-name">Gestion Centralis√©e :</span> Administration des comptes (M√©decins, Infirmiers, Techniciens) et de la structure hospitali√®re (D√©partements).</li>
                    <li><span class="feature-name">Supervision Op√©rationnelle :</span> Suivi en temps r√©el des **Alertes d'Urgence** et contr√¥le de conformit√© des Dossiers M√©dicaux.</li>
                    <li><span class="feature-name">Administration Syst√®me :</span> Configuration des r√¥les utilisateurs, des param√®tres de l'h√¥pital et envoi de notifications.</li>
                </ul>
            </div>
        </div>
      </section>

      <section class="about-sanko">
        <h2 class="section-heading">üìà SanTeKo en Chiffres Cl√©s</h2>
        <div class="about-content">
          <p class="about-text">
            SanTeKo garantit la qualit√©, l'interop√©rabilit√© et la continuit√© des soins. Gr√¢ce √† des fonctionnalit√©s de supervision compl√®tes, la plateforme est la base essentielle pour l'am√©lioration du syst√®me de sant√© malien.
          </p>
          <div class="stats-card">
            <div class="stat-item">
                <span class="stat-value">150+</span>
                <span class="stat-label">Professionnels</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">24/7</span>
                <span class="stat-label">Urgence SOS</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">10K+</span>
                <span class="stat-label">Utilisateurs Actifs</span>
            </div>
          </div>
        </div>
      </section>

    </div>
  </AppLayout>
</template>

<script setup>
import AppLayout from '@/layouts/AppLayout.vue'
import { useAuthStore } from '../stores/authStores'
import { computed } from 'vue'
import { useRouter } from 'vue-router'

const auth = useAuthStore()
const router = useRouter()

const isLoggedIn = computed(() => auth.isLoggedIn)
const fullName = computed(() => auth.fullName)
const profilePhoto = computed(() => auth.profilePhotoUrl || 'https://via.placeholder.com/64x64/f0f0f0/6c757d?text=User')

const logout = () => {
  auth.logout()
  router.push('/')
}

/* * La liste mvpFlux a √©t√© supprim√©e du script pour respecter la consigne.
*/
</script>

<style scoped>
/* ========================================= */
/* VARIABLES & FONT AWESOME                  */
/* ========================================= */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;800&family=Poppins:wght@400;600&display=swap');

:root {
  --primary-sanko: #0040d0; /* Bleu profond, couleur principale Santeko */
  --accent-sanko: #28a745; /* Vert vibrant pour CTA et highlights */
  --danger-sos: #dc3545; /* Rouge pour l'urgence */
  --text-dark: #333333;
  --text-light: #ffffff;
  --bg-light: #f8f9fa;
  --bg-card: #ffffff;
  --shadow-subtle: rgba(0, 0, 0, 0.1);
  --font-hero: 'Montserrat', sans-serif;
  --font-body: 'Poppins', sans-serif;
  --border-color: #e9ecef;
}

/* ========================================= */
/* MISE EN PAGE G√âN√âRALE                     */
/* ========================================= */
.landing-page-container {
  font-family: var(--font-body);
  color: var(--text-dark);
  padding-bottom: 60px;
}

.section-heading {
  font-family: var(--font-hero);
  font-size: 32px;
  font-weight: 800;
  color: var(--primary-sanko);
  text-align: center;
  margin-bottom: 15px;
}
.section-subheading {
    font-size: 18px;
    color: #6c757d;
    text-align: center;
    max-width: 900px;
    margin: 0 auto 50px auto;
}

/* ========================================= */
/* 1. HERO SECTION (Strat√©gique) */
/* ========================================= */
.hero-section {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
  padding: 80px 30px;
  background-color: var(--bg-card);
}

.hero-content {
  max-width: 50%;
}

.hero-section h1 {
  font-family: var(--font-hero);
  font-size: 52px;
  font-weight: 800;
  line-height: 1.1;
  margin-bottom: 20px;
  color: var(--text-dark);
}

.highlight-text {
  color: var(--primary-sanko);
  border-bottom: 5px solid var(--accent-sanko);
  padding-bottom: 5px;
}

.tagline {
  font-size: 20px;
  line-height: 1.6;
  color: #495057;
  margin-bottom: 40px;
  font-style: italic;
}

.hero-illustration {
    max-width: 45%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.hero-illustration img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
}

/* CTA & Logged-in State */
.user-state-actions { margin-top: 30px; }
.action-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 15px 35px;
  border-radius: 30px;
  font-weight: 600;
  font-size: 17px;
  transition: all 0.3s ease;
  text-decoration: none;
}
.primary {
  background-color: var(--primary-sanko);
  color: var(--text-light);
}
.primary:hover {
  background-color: #0030a0;
  transform: translateY(-2px);
}
.secondary {
  background-color: transparent;
  color: var(--primary-sanko);
  border: 2px solid var(--primary-sanko);
  padding: 13px 33px;
}
.secondary:hover {
  background-color: #e9ecef;
}
.logged-in-state {
    display: flex;
    align-items: center;
    gap: 20px;
}
.avatar {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--accent-sanko);
}
.welcome-message {
    font-size: 18px;
    font-weight: 500;
    margin-bottom: 8px;
}
.login-prompt {
    margin-top: 15px;
    font-size: 14px;
    color: #6c757d;
}
.login-prompt a {
    color: var(--primary-sanko);
    font-weight: 600;
    text-decoration: none;
}

/* ========================================= */
/* 2. R√îLES ET RESPONSABILIT√âS (Actions M√©tier) */
/* ========================================= */
.roles-features-section {
    padding: 60px 30px;
    background-color: var(--bg-light); /* Changement de fond pour donner plus d'importance */
}

.roles-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 30px;
    max-width: 1000px;
    margin: 0 auto;
}

.role-card {
    background-color: var(--bg-card); /* Fond blanc pour les cartes */
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: all 0.3s;
}
.role-card:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.role-title {
    font-family: var(--font-hero);
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 3px solid;
    display: flex;
    align-items: center;
}
.role-title i {
    margin-right: 10px;
    font-size: 1.2em;
}

/* Couleurs d'accentuation par r√¥le */
.patient-role { border-left: 5px solid var(--primary-sanko); }
.patient-role .role-title { color: var(--primary-sanko); border-bottom-color: var(--primary-sanko); }

.doctor-role { border-left: 5px solid var(--accent-sanko); }
.doctor-role .role-title { color: var(--accent-sanko); border-bottom-color: var(--accent-sanko); }

.nurse-role { border-left: 5px solid #ffc107; }
.nurse-role .role-title { color: #ffc107; border-bottom-color: #ffc107; }

.admin-role { border-left: 5px solid var(--danger-sos); }
.admin-role .role-title { color: var(--danger-sos); border-bottom-color: var(--danger-sos); }


.role-features-list {
    list-style: none;
    padding: 0;
}
.role-features-list li {
    background: #f0f8ff; /* Bleu tr√®s l√©ger pour les items */
    padding: 12px 15px;
    border-radius: 8px;
    margin-bottom: 10px;
    font-size: 16px;
    line-height: 1.4;
    display: flex;
    align-items: center;
    position: relative;
    padding-left: 40px;
}
.role-features-list li::before {
    content: "‚Ä¢";
    position: absolute;
    left: 15px;
    font-size: 1.5em;
    color: var(--primary-sanko);
}

.feature-name {
    font-weight: 600;
    color: var(--text-dark);
    margin-right: 5px;
}

/* ========================================= */
/* 3. STATISTIQUES (Cr√©dibilit√©) */
/* ========================================= */
.about-sanko {
    padding: 60px 30px;
    background-color: var(--bg-card); /* Changement de fond pour contraste */
}
.about-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 50px;
    max-width: 1200px;
    margin: 0 auto;
}
.about-text {
    max-width: 60%;
    font-size: 18px;
    line-height: 1.7;
    color: var(--text-dark);
    padding-right: 20px;
    border-right: 2px solid var(--border-color);
}
.stats-card {
    max-width: 40%;
    display: flex;
    flex-direction: column;
    gap: 20px;
    background-color: var(--bg-light); /* Fond gris l√©ger pour le bloc Stats */
    padding: 30px;
    border-radius: 10px;
    box-shadow: var(--shadow-subtle);
}
.stat-item {
    text-align: center;
    border-bottom: 1px dashed #ced4da;
    padding-bottom: 15px;
}
.stat-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
}
.stat-value {
    font-family: var(--font-hero);
    font-size: 36px;
    font-weight: 800;
    color: var(--accent-sanko);
    display: block;
}
.stat-label {
    font-size: 16px;
    color: var(--primary-sanko);
    font-weight: 600;
}


/* ========================================= */
/* RESPONSIVE                                */
/* ========================================= */
@media (max-width: 1024px) {
  .hero-section {
    flex-direction: column-reverse;
    text-align: center;
    padding: 60px 20px;
  }
  .hero-content {
    max-width: 100%;
    margin-top: 40px;
  }
  .hero-section h1 {
    font-size: 40px;
  }
  .hero-illustration {
      max-width: 70%;
  }

  /* R√¥les en 1 colonne sur tablette */
  .roles-container {
      grid-template-columns: 1fr;
      max-width: 600px;
  }

  .about-content {
      flex-direction: column;
      align-items: center;
  }
  .about-text {
      max-width: 100%;
      border-right: none;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 30px;
      margin-bottom: 30px;
      padding-right: 0;
  }
  .stats-card {
      max-width: 100%;
      flex-direction: row;
      justify-content: space-around;
  }
  .stat-item {
      border-bottom: none;
      border-right: 1px dashed #ced4da;
      padding-right: 15px;
  }
  .stat-item:last-child {
      border-right: none;
  }
}

@media (max-width: 600px) {
  .hero-section h1 {
    font-size: 32px;
  }
  /* R√¥les en 1 colonne sur mobile */
  .roles-container {
      grid-template-columns: 1fr;
  }
  .hero-illustration {
      max-width: 100%;
  }
  .stats-card {
      flex-direction: column;
  }
  .stat-item {
      border-right: none;
  }
}
</style>
